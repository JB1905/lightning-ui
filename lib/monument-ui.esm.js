import n,{useRef as e,useState as r,useEffect as t}from"react";import o from"styled-components";import a from"to-px";import i from"color";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c=function(){return(c=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function u(n,e){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(r[t]=n[t]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(r[t[o]]=n[t[o]])}return r}function s(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var l,d="\n  transform: translate3d(0, 0, 0);\n  box-shadow: 0 0 0 0 #0000;\n",v=o.div(l||(l=s(["\n  ","\n"],["\n  ","\n"])),(function(n){var e=n.depth,r=n.layers,t=n.animate,o=n.clickable,a=n.hoverable,i=n.touchable;return"\n    transform: translate3d("+-e.x+"px, "+-e.y+"px, 0);\n    will-change: transform;\n    box-shadow: "+r+";\n    \n    "+(t&&"transition: transform 300ms ease, box-shadow 300ms ease;")+"\n\n    "+("push"===o?"\n      &:focus,\n      &:active {\n        "+d+"\n      }\n    ":"")+"\n    \n    "+("push"===a?"\n      &:not(:focus):hover,\n      &:not(:active):hover {\n        "+d+"\n      }\n    ":"")+"\n\n    "+("push"===i?"\n      &:hover {\n        "+d+"\n      }\n    ":"")+"\n "}));function f(n){return Math.round("string"==typeof n?a(n):n)}var p,y=function(n,e){var r=i(n);return r[r.isDark()?"lighten":"darken"](1/(5*e)).toString()},h=function(n){for(var e=n.x,r=n.y,t=n.color,o=n.shadow,a=n.colorify,i=function(n){return Math.abs(n)},c=i(e)>i(r)?[e,r]:[r,e],u=c[0],s=i(c[1])/i(u),l=[],d=0,v=1;v<=i(u);v++){d+=s,a&&(t=y(t,i(u)));var f=i(e)>i(r)?[v,d]:[d,v],p=f[0],h=f[1];l.push((e>0?p:-p)+"px "+(r>0?h:-h)+"px 0 "+t)}return o&&l.push(o),l.join(",")},x=function(o){var a=o.color,i=o.shadow,s=void 0===i?"":i,l=o.colorify,d=void 0!==l&&l,p=o.perspective,y=void 0===p?{x:5,y:5}:p,x=o.clickable,m=o.hoverable,b=o.touchable,w=o.children,O=u(o,["color","shadow","colorify","perspective","clickable","hoverable","touchable","children"]),E=e(null),L=r(""),g=L[0],j=L[1],k=r(!1),P=k[0],z=k[1],M=r(),S=M[0],D=M[1],I=r(),q=I[0],A=I[1],B=r(),C=B[0],F=B[1],G=r({x:f(y.x),y:f(y.y)}),H=G[0],J=G[1];return t((function(){var n=function(){var n,e,r=f(y.x),t=f(y.y);S&&"pull"===x||q&&"pull"===m||C&&"pull"===b?(n=r>0?r/2:r<0?-r/2:0,e=t>0?t/2:t<0?-t/2:0):(n=0,e=0);var o={x:r,y:t};(S||q||C)&&z(!0),o.x=Math.round(o.x>0?o.x+n:o.x<0?o.x-n:o.x),o.y=Math.round(o.y>0?o.y+e:o.y<0?o.y-e:o.y);var i=h({x:o.x,y:o.y,color:a,shadow:s,colorify:d});j(i),J({x:o.x,y:o.y})};n(),E.current.addEventListener("mousedown",(function(){return D(x)})),E.current.addEventListener("mouseup",(function(){return D(void 0)})),E.current.addEventListener("mouseenter",(function(){return A(m)})),E.current.addEventListener("mouseleave",(function(){return A(void 0)})),E.current.addEventListener("touchstart",(function(){return F(b)}),{passive:!0}),E.current.addEventListener("touchend",(function(){return F(void 0)})),window.addEventListener("resize",n),window.removeEventListener("resize",n)}),[S,x,a,d,g,q,m,y.x,y.y,s,b,C]),n.createElement(v,c({},O,{ref:E,depth:H,layers:g,animate:P,clickable:S,hoverable:q,touchable:C}),w)},m=o.p(p||(p=s(["\n  ","\n"],["\n  ","\n"])),(function(n){var e=n.depth,r=n.layers;return"\n    transform: translate3d("+-e.x/2+"px, "+-e.y/2+"px, 0);\n    text-shadow: "+r+";\n  "})),b=function(e){var o=e.color,a=e.shadow,i=void 0===a?"":a,s=e.colorify,l=void 0!==s&&s,d=e.perspective,v=void 0===d?{x:5,y:5}:d,p=e.children,y=u(e,["color","shadow","colorify","perspective","children"]),x=r(""),b=x[0],w=x[1],O={x:f(v.x),y:f(v.y)};return t((function(){var n=function(){var n=h({x:f(v.x),y:f(v.y),color:o,shadow:i,colorify:l});w(n)};n(),window.addEventListener("resize",n),window.removeEventListener("resize",n)}),[o,l,v.x,v.y,i]),n.createElement(m,c({},y,{depth:O,layers:b}),p)};export{x as Element,b as Text};
//# sourceMappingURL=monument-ui.esm.js.map
